<div class="container">
  <mat-card class="department-list">
    <mat-card-content>
      <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
        <mat-tree-node *matTreeNodeDef="let department" matTreeNodeToggle>
          <li class="mat-tree-node">
            <button mat-icon-button disabled></button>
            {{ department.name }}
            <span class="fill-space"></span>
            <button
              mat-icon-button
              type="button"
              (click)="createDepartment(department)"
              color="primary"
              matTooltip="建立部門"
            >
              <mat-icon>add_circle</mat-icon>
            </button>
            <button
              mat-icon-button
              type="button"
              [disabled]="!department.parentId"
              (click)="deleteDepartment(department)"
              color="warn"
              matTooltip="刪除部門"
            >
              <mat-icon>remove_circle</mat-icon>
            </button>
          </li>
        </mat-tree-node>
        <mat-nested-tree-node *matTreeNodeDef="let department; when: hasChild">
          <li>
            <div class="mat-tree-node">
              <button mat-icon-button matTreeNodeToggle>
                <mat-icon class="mat-icon-rtl-mirror">
                  {{
                    treeControl.isExpanded(department)
                      ? 'expand_more'
                      : 'chevron_right'
                  }}
                </mat-icon>
              </button>
              {{ department.name }}
              <span class="fill-space"></span>
              <button
                mat-icon-button
                type="button"
                (click)="createDepartment(department)"
                color="primary"
                matTooltip="建立部門"
              >
                <mat-icon>add_circle</mat-icon>
              </button>
              <button
                mat-icon-button
                type="button"
                disabled
                (click)="deleteDepartment(department)"
                color="warn"
                matTooltip="刪除部門"
              >
                <mat-icon>remove_circle</mat-icon>
              </button>
            </div>
            <ul [hidden]="!treeControl.isExpanded(department)">
              <ng-container matTreeNodeOutlet></ng-container>
            </ul>
          </li>
        </mat-nested-tree-node>
      </mat-tree>
    </mat-card-content>
  </mat-card>
  <mat-card class="employee-list"> </mat-card>
</div>
